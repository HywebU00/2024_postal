<!DOCTYPE html>
<html>
  <head>
    <meta name="robots" content="noindex" />
    <!-- 使用 noindex 禁止 Google 搜尋建立索引，套版時請工程師刪掉這行 -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>m2</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="css/style.css" />
    <!-- favicon -->
    <link href="images/favicon.ico" rel="icon" type="image/x-icon">
  </head>
  <body class="mp _noDeco">
    <header>
      <div class="container">
        <a href="#"><h1>中華郵政會員資訊網</h1></a>
        <button type="button" class="sidebarCtrl">側欄選單<span></span><span></span><span></span></button>
        <nav>
          <a href="#" class="lang">English</a>
          <div class="menu">
            <a href="#">郵政會員</a>
            <a href="#">最新消息</a>
            <a href="#">常見問題</a>
            <a href="#">下載行動郵局</a>
          </div>
        </nav>
      </div>
    </header>
    <!-- 內容 -->
    <div class="main">
      <!-- hero 2 -->
      <section class="hero2">
        <div class="container _full">
          <div class="info">
            <h2 class="mainTitle">成為郵政會員，開啟美好郵政生活圈</h2>
          </div>
          <!-- 圖片切換 -->
          <!-- <picture>
            <source srcset="images/img-hero.jpg" media="(min-width: 992px)">
            <source srcset="images/img-hero-m.jpg" media="(max-width: 991px)">
            <img src="images/img-hero.jpg" class="cover">
          </picture> -->
          <picture>
            <div class="imgContainer">
              <img src="images/img-hero2.jpg" alt="">
            </div>
          </picture>
          <!-- 裝飾箭頭 -->
          <div class="decoArrow"></div>
        </div>
      </section>
      <!-- 共用背景1 -->
      <section class="mixDeco">
        <!-- 單一帳號暢遊生活圈服務 -->
        <div class="container gsap-outer">
          <div class="">
            <h3 class="mainTitle">單一帳號暢遊生活圈服務</h3>
            <p>使用手機即可串連各類郵政服務，生活大小事一點通</p>
            <div class="steps">
              <div class="target">now</div>
              <ul>
                <li class="now">1</li>
                <li>2</li>
                <li>3</li>
              </ul>
            </div>
          </div>
          <div class="pin"></div>
          <!-- 視差滾動 -->
          <section class="">
            <div class="cardInfo">
              <div class="col">
                <div>
                  <span class="tag">寄件托運</span>
                  <h4><img src="images/logos/EZPose_L.jpg" alt="">郵寄便 EZPost</h4>
                  <p>線上填寫國內外郵件、包裹寄送單，寄件託運再也沒煩惱</p>
                  <h4><img src="images/logos/iBox_L.jpg" alt="">i 郵箱 iBox</h4>
                  <p>文字說明文字說明文字說明文字說明文字說明文字說明文字說明</p>
                </div>
                <div class="btnGrp _narrow">
                  <a href="#" class="btn _more">前往郵寄便</a>
                </div>
              </div>
              <div class="col">
                <div class="imgContainer">
                  <img src="images/img-m1-cardInfo-01.jpg" alt="">
                </div>
                <div class="deco-gray"></div>
              </div>
            </div>
            <div class="cardInfo">
              <div class="col">
                <div>
                  <span class="tag">日常購物</span>
                  <h4><img src="images/logos/i 郵購_L.jpg" alt="">i 郵購 Postmall</h4>
                  <p>多元化的日常用品、生鮮食品、安心認證在地小農商品在這通通找得到</p>
                </div>
                <div class="btnGrp _narrow">
                  <a href="#" class="btn _more">前往 i 郵購</a>
                </div>
              </div>
              <div class="col">
                <div class="imgContainer">
                  <img src="images/img-m1-cardInfo-02.jpg" alt="">
                </div>
                <div class="deco-gray"></div>
              </div>
            </div>
            <div class="cardInfo">
              <div class="col">
                <div>
                  <div class="tag">探索集郵</div>
                  <h4><img src="images/logos/i 集郵_L.jpg" alt="">i 集郵</h4>
                  <p>特色郵票、集郵活動報你知，邀請您一同探索集郵樂趣，打造個人化郵票</p>
                </div>
                <div class="btnGrp _narrow">
                  <a href="#" class="btn _more">前往 i 集郵</a>
                </div>
              </div>
              <div class="col">
                <div class="imgContainer">
                  <img src="images/img-m1-cardInfo-03.jpg" alt="">
                </div>
                <div class="deco-gray"></div>
              </div>
            </div>
          </section>
        </div>
        <!-- deco -->
        <div class="deco _1_L1 rellax" data-rellax-speed="-1">
          <img src="images/bg-mp-deco-1-L1.png" alt="">
        </div>
        <div class="deco _1_L2 rellax" data-rellax-speed="-3">
          <img src="images/bg-mp-deco-1-L2.png" alt="">
        </div>
        <div class="deco _1_L3 rellax" data-rellax-speed="-5">
          <img src="images/bg-mp-deco-1-L3.png" alt="">
        </div>
      </section>
      <section class="mixDeco2">
        <!-- 累積波幣無煩惱 -->
        <section class="pointInfo">
          <div class="container">
            <h3 class="mainTitle">累積波幣無煩惱</h3>
            <!-- 頁籤 -->
            <div class="tab">
              <!-- 頁籤標題 -->
              <div class="tabTitle">
                <a href="#">如何累積啵幣</a>
                <a href="#">如何查詢啵幣</a>
              </div>
              <!-- 對應內容 -->
              <div class="tabItems">
                <section class="discountInfo">
                  <div class="col">
                    <div class="imgContainer">
                      <img src="images/img-m2-3.jpg" alt="" class="cover">
                    </div>
                    <h4>標題1 AAA</h4>
                    <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit.</p>
                  </div>
                  <div class="col">
                    <div class="imgContainer">
                      <img src="images/img-m2-3.jpg" alt="" class="cover">
                    </div>
                    <h4>標題2</h4>
                    <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit.</p>
                  </div>
                  <div class="col">
                    <div class="imgContainer">
                      <img src="images/img-m2-3.jpg" alt="" class="cover">
                    </div>
                    <h4>標題3</h4>
                    <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit.</p>
                  </div>
                  <!-- <div class="col">
                    <img src="https://placehold.jp/200x200.png" alt="">
                    <h4>標題4</h4>
                    <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit.</p>
                  </div> -->
                </section>
                <section class="discountInfo">
                  <div class="col">
                    <div class="imgContainer">
                      <img src="images/img-m2-3.jpg" alt="" class="cover">
                    </div>
                    <h4>標題1 BBB</h4>
                    <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit.</p>
                  </div>
                  <div class="col">
                    <div class="imgContainer">
                      <img src="images/img-m2-3.jpg" alt="" class="cover">
                    </div>
                    <h4>標題2</h4>
                    <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit.</p>
                  </div>
                  <div class="col">
                    <div class="imgContainer">
                      <img src="images/img-m2-3.jpg" alt="" class="cover">
                    </div>
                    <h4>標題3</h4>
                    <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit.</p>
                  </div>
                  <div class="col">
                    <div class="imgContainer">
                      <img src="images/img-m2-3.jpg" alt="" class="cover">
                    </div>
                    <h4>標題4</h4>
                    <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit.</p>
                  </div>
                </section>
              </div>
            </div>
          </div>
        </section>
        <!-- 啵幣兌好禮，特色商品郵夠讚 -->
        <section class="">
          <div class="container">
            <h3 class="mainTitle">啵幣兌好禮，特色商品郵夠讚</h3>
            <p>100% 折抵消費，還能兌換中華郵政特色商品</p>
            <section class="thumbInfo">
              <div class="item">
                <div class="col">
                  <div class="imgContainer">
                    <img src="images/img-m2-1.png" alt="" class="cover">
                  </div>
                </div>
                <div class="col">
                  <h4>100% 折抵消費金額 AAA</h4>
                  <p>在中華郵政各大通路服務、使用行動郵局錢包支付，皆可使用啵幣進行點數折抵！</p>
                </div>
              </div>
              <div class="item">
                <div class="col">
                  <div class="imgContainer">
                    <img src="images/img-m2-2.png" alt="" class="cover">
                  </div>
                </div>
                <div class="col">
                  <h4>啵幣商城</h4>
                  <p>兌換美食電子票券、郵政特色好禮，立即下載行動郵局 App，啵幣商城等你來探索！</p>
                  <a class="btn _more">下載行動郵局</a>
                </div>
              </div>
            </section>
          </div>
        </section>
      </section>
      
      <!-- 使用儲金帳戶升級成為郵政會員 -->
      <section>
        <div class="container">
          <div class="decobox"><img src="images/deco.png" alt=""></div>
          <!-- 頁籤 -->
          <div class="tab">
            <!-- 頁籤標題 -->
            <div class="tabTitle">
              <a href="javaScript:;">我有儲金帳戶</a>
              <a href="javaScript:;">我有郵務網站帳號</a>
              <a href="javaScript:;">我是郵局全新用戶</a>
            </div>
            <!-- 對應內容 -->
            <div class="tabItems">
              <section class="pushAd">
                <div class="container">
                  <div class="col">
                    <h3 class="mainTitle">1 儲值金</h3>
                    <ul class="step">
                      <li><span>1</span>使用儲金帳戶，登入行動郵局 App </li>
                      <li><span>2</span>點擊「立即升級郵政會員」按鈕</li>
                      <li><span>3</span>確認即將升級的手機號碼，並準備接收驗證碼</li>
                      <li><span>4</span>填寫會員升級資料</li>
                      <li><span>5</span>恭喜您，您已升級完成囉！</li>
                    </ul>
                  </div>
                  <div class="col">
                    <div class="mpSlider">
                      <!-- 圖片輪播 start -->
                      <div class="swiperBox">
                        <div class="swiper">
                          <div class="swiper-wrapper">
                            <div class="swiper-slide" data-title="圖說1">
                              <img src="images/img-phone-02.png" alt="圖說1" />
                            </div>
                            <div class="swiper-slide" data-title="圖說2">
                              <img src="images/img-phone-02.png" alt="圖說2" />
                            </div>
                            <div class="swiper-slide" data-title="圖說3">
                              <img src="images/img-phone-02.png" alt="圖說3" />
                            </div>
                            <div class="swiper-slide" data-title="圖說4">
                              <img src="images/img-phone-02.png" alt="圖說4" />
                            </div>
                            <div class="swiper-slide" data-title="圖說4">
                              <img src="images/img-phone-02.png" alt="圖說4" />
                            </div>
                          </div>
                        </div>
                        <!--前一筆-->
                        <div class="prevSlider swiperArrow"></div>
                        <!--下一筆-->
                        <div class="nextSlider swiperArrow"></div>
                        <!-- swiper 點切換-->
                        <div class="swiperDots"></div>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- deco -->
                <div class="deco _2_L1 rellax">
                  <img src="images/bg-mp-deco-2-L1.png" alt="">
                </div>
                <div class="deco _2_L2 rellax">
                  <img src="images/bg-mp-deco-2-L2.png" alt="">
                </div>
              </section>
              <section class="pushAd">
                <div class="container">
                  <div class="col">
                    <h3 class="mainTitle">2 郵政帳務網站</h3>
                    <ul class="step">
                      <li><span>1</span>使用儲金帳戶，登入行動郵局 App </li>
                      <li><span>2</span>點擊「立即升級郵政會員」按鈕</li>
                      <li><span>3</span>確認即將升級的手機號碼，並準備接收驗證碼</li>
                      <li><span>4</span>填寫會員升級資料</li>
                      <li><span>5</span>恭喜您，您已升級完成囉！</li>
                    </ul>
                  </div>
                  <div class="col">
                    <div class="mpSlider">
                      <!-- 圖片輪播 start -->
                      <div class="swiperBox">
                        <div class="swiper">
                          <div class="swiper-wrapper">
                            <div class="swiper-slide" data-title="圖說1">
                              <img src="images/img-phone-02.png" alt="圖說1" />
                            </div>
                            <div class="swiper-slide" data-title="圖說2">
                              <img src="images/img-phone-02.png" alt="圖說2" />
                            </div>
                            <div class="swiper-slide" data-title="圖說3">
                              <img src="images/img-phone-02.png" alt="圖說3" />
                            </div>
                            <div class="swiper-slide" data-title="圖說4">
                              <img src="images/img-phone-02.png" alt="圖說4" />
                            </div>
                            <div class="swiper-slide" data-title="圖說4">
                              <img src="images/img-phone-02.png" alt="圖說4" />
                            </div>
                          </div>
                        </div>
                        <!--前一筆-->
                        <div class="prevSlider swiperArrow"></div>
                        <!--下一筆-->
                        <div class="nextSlider swiperArrow"></div>
                        <!-- swiper 點切換-->
                        <div class="swiperDots"></div>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- deco -->
                <div class="deco _2_L1 rellax">
                  <img src="images/bg-mp-deco-2-L1.png" alt="">
                </div>
                <div class="deco _2_L2 rellax">
                  <img src="images/bg-mp-deco-2-L2.png" alt="">
                </div>
              </section>
              <section class="pushAd">
                <div class="container">
                  <div class="col">
                    <h3 class="mainTitle">3 全新用戶</h3>
                    <ul class="step">
                      <li><span>1</span>使用儲金帳戶，登入行動郵局 App </li>
                      <li><span>2</span>點擊「立即升級郵政會員」按鈕</li>
                      <li><span>3</span>確認即將升級的手機號碼，並準備接收驗證碼</li>
                      <li><span>4</span>填寫會員升級資料</li>
                      <li><span>5</span>恭喜您，您已升級完成囉！</li>
                    </ul>
                  </div>
                  <div class="col">
                    <div class="mpSlider">
                      <!-- 圖片輪播 start -->
                      <div class="swiperBox">
                        <div class="swiper">
                          <div class="swiper-wrapper">
                            <div class="swiper-slide" data-title="圖說1">
                              <img src="images/img-phone-02.png" alt="圖說1" />
                            </div>
                            <div class="swiper-slide" data-title="圖說2">
                              <img src="images/img-phone-02.png" alt="圖說2" />
                            </div>
                            <div class="swiper-slide" data-title="圖說3">
                              <img src="images/img-phone-02.png" alt="圖說3" />
                            </div>
                            <div class="swiper-slide" data-title="圖說4">
                              <img src="images/img-phone-02.png" alt="圖說4" />
                            </div>
                            <div class="swiper-slide" data-title="圖說4">
                              <img src="images/img-phone-02.png" alt="圖說4" />
                            </div>
                          </div>
                        </div>
                        <!--前一筆-->
                        <div class="prevSlider swiperArrow"></div>
                        <!--下一筆-->
                        <div class="nextSlider swiperArrow"></div>
                        <!-- swiper 點切換-->
                        <div class="swiperDots"></div>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- deco -->
                <div class="deco _2_L1 rellax">
                  <img src="images/bg-mp-deco-2-L1.png" alt="">
                </div>
                <div class="deco _2_L2 rellax">
                  <img src="images/bg-mp-deco-2-L2.png" alt="">
                </div>
              </section>
            </div>
          </div>
        </div>
      </section>
      <!-- 近期活動報你知 -->
      <section>
        <div class="container">
          <h3 class="mainTitle _bar">近期活動報你知</h3>
          <!-- 活動卡 -->
          <div class="actInfo">
            <!-- 1 -->
            <div class="card">
              <a href="#">
                <div class="imgContainer">
                  <img src="https://hywebu00.github.io/hyui_flex/images/demo/01.jpg" class="cover" alt="圖說1" />
                </div>
                <time datetime="">活動期間：2025/01/01 - 2025/07/31</time>
                <h4>歡慶郵政會員上線，升級會員人人通通郵獎！</h4>
                <div class="tag">
                  <ul>
                    <li>郵政會員</li>
                  </ul>
                </div>
              </a>
            </div>
            <!-- 2 -->
            <div class="card">
              <a href="#">
                <div class="imgContainer">
                  <img src="https://hywebu00.github.io/hyui_flex/images/demo/01.jpg" class="cover" alt="圖說1" />
                </div>
                <time datetime="">活動期間：2025/01/01 - 2025/07/31</time>
                <h4>歡慶郵政會員上線，升級會員人人通通郵獎！</h4>
                <div class="tag">
                  <ul>
                    <li>活動分類A</li>
                  </ul>
                </div>
              </a>
            </div>
          </div>
          <div class="btnGrp _narrow _center">
            <a class="btn _more">更多活動</a>
          </div>
        </div>
      </section>
    </div>
    <footer>
      <div class="container">
        <div class="flex">
          <div class="f_links">
            <a href="#">中華郵政全球資訊網</a>
            <a href="#">常見問題</a>
            <a href="#">隱私權與各項條款</a>
          </div>
          <section class="f_info">
            <div class="col">
              <h3 class="f_logo"><img src="images/logo-footer.png" alt=""></h3>
              <p>地址：臺北市大安區金山南路2段55號<br>客服電話：(02) 2321-4311、(02)2392-1310</p>
            </div>
            <div class="col">
              <h3>下載行動郵局 App</h3>
              <div class="f_icons">
                <img src="images/QRcode.jpg" alt="QRcode">
                <div>
                  <a href="#"><img src="images/img-AppStore.png" alt="AppStore"></a>
                  <a href="#"><img src="images/img-GooglePlay.png" alt="GooglePlay"></a>
                </div>
              </div>
            </div>
          </section>
        </div>
        <p class="Copyright">中華郵政 版權所有 © 2013 Chunghwa Post All Rights Reserved.　</p>
      </div>
    </footer>
    <a href="javascript:;" class="scrollToTop">回頁首</a>
    <!-- js -->
    <!-- lazyload -->
    <script src="vendor/lazyload/lazyload.js"></script>
    <!-- fancybox -->
    <script src="vendor/fancybox/fancybox.umd.js"></script>
    <script src="vendor/fancybox/l10n/zh_TW.umd.js"></script>
    <!-- swiper -->
    <script src="vendor/swiper/swiper-bundle.min.js"></script>
    <script src="js/customize.js"></script>
    <!-- rellax -->
    <script src="https://cdn.jsdelivr.net/gh/dixonandmoe/rellax@master/rellax.min.js"></script>
    <script>
      // Accepts any class name
      var rellax = new Rellax('.rellax');
    </script>
    <!-- gsap -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/ScrollTrigger.min.js"></script>

    <!-- 出現 step，pin 在 h3 父層，手機版會自適應 .pin & section 的 top，但是 git demo 會出問題，pin不住 -->
    <!-- <script>
      // 註冊 GSAP 插件 ScrollTrigger
      gsap.registerPlugin(ScrollTrigger);

      // 獲取 .gsap-outer 和相關元素
      const outer = document.querySelector('.gsap-outer'); // 觸發點元素
      const pin = outer.querySelector('.pin'); // 固定的 pinBox 元素
      const boxes = outer.querySelectorAll('.cardInfo'); // 所有 cardInfo 元素
      const steps = outer.querySelectorAll('.steps ul li'); // 所有步驟的 li 元素
      const target = outer.querySelector('.steps .target'); // 用於顯示當前位置的 target

      // 新增：偵測第一個 .cardInfo 的高度，並應用到所有 .cardInfo
      const firstCardInfo = document.querySelector('.gsap-outer section .cardInfo');
      if (firstCardInfo) {
        const cardInfoHeight = firstCardInfo.offsetHeight; // 獲取高度
        boxes.forEach(box => {
          box.style.height = `${cardInfoHeight}px`; // 將高度應用到所有 .cardInfo
        });
        console.log(`第一個 .cardInfo 高度為：${cardInfoHeight}px`);
      }

      // 設置不同寬度下 boxes 的開始位置
      function getStartPosition() {
        return window.innerWidth > 992 ? "top top+=100" : "top top-=200";
      }
      function getBoxStartPosition() {
        return window.innerWidth > 992 ? `top ${pin.scrollHeight + 150}px`: `top top+=140`;
      }

      // 定義 pinBox 的 ScrollTrigger
      const pinTl = gsap.timeline({
        scrollTrigger: {
          trigger: outer, // 觸發點為 .outer
          pin: pin,       // 固定 pinBox
          pinSpacing: false, // 不留間距
          start: getStartPosition(), // 根據寬度設置開始位置
          end: () => `${outer.scrollHeight - pin.scrollHeight - boxes[boxes.length - 1].scrollHeight}px`,
        }
      });

      // 為每個 cardInfo 設置 ScrollTrigger
      boxes.forEach((box, i) => {
        gsap.timeline({
          scrollTrigger: {
            trigger: box, // 為當前的 cardInfo 設置觸發點
            pin: true,
            pinSpacing: false,
            start: getBoxStartPosition, // 動態設定開始位置
            end: () => window.innerWidth > 992 
              ? `${(boxes.length - i - 1) * box.scrollHeight - pin.scrollHeight}px` // 大螢幕使用 bottom 偏移
              : `${(boxes.length - i - 1) * box.scrollHeight + 10}px`, // 小螢幕使用高度計算
            
            // start: () => `top ${pin.scrollHeight + 150}px`, // 開始位置為 pinBox 高度加 150px
            // end: () => `${(boxes.length - i - 1) * box.scrollHeight - pin.scrollHeight}px`, // 根據剩餘 box 設置結束位置

            // 每次滾動到新的 .cardInfo 元素時觸發以下功能
            onEnter: () => updateStepsAndTarget(i),
            onEnterBack: () => updateStepsAndTarget(i)
          }
        });
      });

      // 更新 steps 中的 .now 狀態和 target 的 left 位置
      function updateStepsAndTarget(index) {
        // 移除所有步驟的 .now 類，並在當前序數加上 .now
        steps.forEach((step, idx) => step.classList.toggle('now', idx === index));

        // 計算 .target 的 left 位置
        if (index > 0) {
          const leftPosition = `calc(${100 / (steps.length - 1) * index}% - 5px)`;
          gsap.to(target, {
            duration: 0.5, // 設定動畫的持續時間
            left: leftPosition,
            ease: "power2.out" // 設置緩動效果
          });
        } else {
          gsap.to(target, {
            duration: 0.5, // 設定動畫的持續時間
            left: '0', // 將第一個位置的 .target 設為起始位置
            ease: "power2.out" // 設置緩動效果
          });
        }
      }

      // 偵聽窗口大小變化，動態更新 ScrollTrigger
      window.addEventListener('resize', () => {
        ScrollTrigger.getAll().forEach(trigger => trigger.kill()); // 清除舊的 ScrollTrigger
        ScrollTrigger.refresh(); // 刷新 ScrollTrigger
      });

    </script> -->

    <!-- 出現 step，pin 在 h3 父層 -->
    <!-- <script>
      // 註冊 GSAP 插件 ScrollTrigger
      gsap.registerPlugin(ScrollTrigger);

      // 獲取 .gsap-outer 和相關元素
      const outer = document.querySelector('.gsap-outer'); // 觸發點元素
      const pin = outer.querySelector('.pin'); // 固定的 pinBox 元素
      const boxes = outer.querySelectorAll('.cardInfo'); // 所有 cardInfo 元素
      const steps = outer.querySelectorAll('.steps ul li'); // 所有步驟的 li 元素
      const target = outer.querySelector('.steps .target'); // 用於顯示當前位置的 target

      // 新增：偵測第一個 .cardInfo 的高度，並應用到所有 .cardInfo
      const firstCardInfo = document.querySelector('.gsap-outer section .cardInfo');
      if (firstCardInfo) {
        const cardInfoHeight = firstCardInfo.offsetHeight; // 獲取高度
        boxes.forEach(box => {
          box.style.height = `${cardInfoHeight}px`; // 將高度應用到所有 .cardInfo
        });
        console.log(`第一個 .cardInfo 高度為：${cardInfoHeight}px`);
      }

      // 設置不同寬度下的開始位置
      function getStartPosition() {
        return window.innerWidth > 992 ? "top top+=100" : "top top-=200";
      }

      // 定義 pinBox 的 ScrollTrigger
      const pinTl = gsap.timeline({
        scrollTrigger: {
          trigger: outer, // 觸發點為 .outer
          pin: pin,       // 固定 pinBox
          pinSpacing: false, // 不留間距
          start: getStartPosition(), // 根據寬度設置開始位置
          end: () => `${outer.scrollHeight - pin.scrollHeight - boxes[boxes.length - 1].scrollHeight}px`,
        }
      });

      // 為每個 cardInfo 設置 ScrollTrigger
      boxes.forEach((box, i) => {
        const boxTl = gsap.timeline({
          scrollTrigger: {
            trigger: box, // 為當前的 cardInfo 設置觸發點
            pin: true,
            pinSpacing: false,
            start: () => `top ${pin.scrollHeight + 150}px`, // 開始位置為 pinBox 高度加 150px
            end: () => `${(boxes.length - i - 1) * box.scrollHeight - pin.scrollHeight}px`, // 根據剩餘 box 設置結束位置

            // 每次滾動到新的 .cardInfo 元素時觸發以下功能
            onEnter: () => updateStepsAndTarget(i),
            onEnterBack: () => updateStepsAndTarget(i)
          }
        });
      });

      // 更新 steps 中的 .now 狀態和 target 的 left 位置
      function updateStepsAndTarget(index) {
        // 移除所有步驟的 .now 類，並在當前序數加上 .now
        steps.forEach((step, idx) => step.classList.toggle('now', idx === index));

        // 計算 .target 的 left 位置
        if (index > 0) {
          const leftPosition = `calc(${100 / (steps.length - 1) * index}% - 5px)`;
          gsap.to(target, {
            duration: 0.5, // 設定動畫的持續時間
            left: leftPosition,
            ease: "power2.out" // 設置緩動效果
          });
        } else {
          gsap.to(target, {
            duration: 0.5, // 設定動畫的持續時間
            left: '0', // 將第一個位置的 .target 設為起始位置
            ease: "power2.out" // 設置緩動效果
          });
        }
      }

      // 偵聽窗口大小變化，動態更新 ScrollTrigger
      window.addEventListener('resize', () => {
        ScrollTrigger.getAll().forEach(trigger => trigger.kill()); // 清除舊的 ScrollTrigger
        pinTl.scrollTrigger.start = getStartPosition(); // 更新開始位置
        ScrollTrigger.refresh(); // 刷新 ScrollTrigger
      });

    </script> -->

    <!-- 標題不出現 -->
    <script>
      // 註冊 GSAP 插件 ScrollTrigger
      gsap.registerPlugin(ScrollTrigger);

      // 獲取 .gsap-outer 和相關元素
      const outer = document.querySelector('.gsap-outer'); // 觸發點元素
      const pin = outer.querySelector('.pin'); // 固定的 pinBox 元素
      const boxes = outer.querySelectorAll('.cardInfo'); // 所有 cardInfo 元素
      const steps = outer.querySelectorAll('.steps ul li'); // 所有步驟的 li 元素
      const target = outer.querySelector('.steps .target'); // 用於顯示當前位置的 target

      // 新增：偵測第一個 .cardInfo 的高度，並應用到所有 .cardInfo
      const firstCardInfo = document.querySelector('.gsap-outer section .cardInfo');
      if (firstCardInfo) {
        const cardInfoHeight = firstCardInfo.offsetHeight; // 獲取高度
        boxes.forEach(box => {
          box.style.height = `${cardInfoHeight}px`; // 將高度應用到所有 .cardInfo
        });
        console.log(`第一個 .cardInfo 高度為：${cardInfoHeight}px`);
      }

      // 定義 pinBox 的 ScrollTrigger
      const pinTl = gsap.timeline({
        scrollTrigger: {
          trigger: outer, // 觸發點為 .outer
          pin: pin,       // 固定 pinBox
          pinSpacing: false, // 不留間距
          start: "top top+=100",  // 開始位置
          end: () => `${outer.scrollHeight - pin.scrollHeight - boxes[boxes.length - 1].scrollHeight}px`,
        }
      });

      // 為每個 cardInfo 設置 ScrollTrigger
      boxes.forEach((box, i) => {
        const boxTl = gsap.timeline({
          scrollTrigger: {
            trigger: box, // 為當前的 cardInfo 設置觸發點
            pin: true,
            pinSpacing: false,
            start: () => `top ${pin.scrollHeight + 150}px`, // 開始位置為 pinBox 高度加 150px
            end: () => `${(boxes.length - i - 1) * box.scrollHeight - pin.scrollHeight}px`, // 根據剩餘 box 設置結束位置

            // 每次滾動到新的 .cardInfo 元素時觸發以下功能
            onEnter: () => updateStepsAndTarget(i),
            onEnterBack: () => updateStepsAndTarget(i)
          }
        });
      });

      // 更新 steps 中的 .now 狀態和 target 的 left 位置
      function updateStepsAndTarget(index) {
        // 移除所有步驟的 .now 類，並在當前序數加上 .now
        steps.forEach((step, idx) => step.classList.toggle('now', idx === index));

        // 計算 .target 的 left 位置
        if (index > 0) {
          const leftPosition = `calc(${100 / (steps.length - 1) * index}% - 5px)`;
          gsap.to(target, {
            duration: 0.5, // 設定動畫的持續時間
            left: leftPosition,
            ease: "power2.out" // 設置緩動效果
          });
        } else {
          gsap.to(target, {
            duration: 0.5, // 設定動畫的持續時間
            left: '0', // 將第一個位置的 .target 設為起始位置
            ease: "power2.out" // 設置緩動效果
          });
        }
      }
    </script>

    <!-- 標題有出現 -->
    <!-- <script>
      // 註冊 GSAP 插件 ScrollTrigger
      gsap.registerPlugin(ScrollTrigger);

      const outer = document.querySelector('.gsap-outer'); // 觸發點元素
      const pin = outer.querySelector('.pin'); // 固定的 pinBox 元素
      const boxes = outer.querySelectorAll('.cardInfo'); // 所有 cardInfo 元素
      const steps = outer.querySelectorAll('.steps ul li'); // 所有步驟的 li 元素
      const target = outer.querySelector('.steps .target'); // 用於顯示當前位置的 target

      // 定義 pinBox 的 ScrollTrigger
      const pinTl = gsap.timeline({
        scrollTrigger: {
          trigger: outer, // 觸發點為 .outer
          pin: pin,       // 固定 pinBox
          pinSpacing: false, // 不留間距
          start: "top top-=200",  // 開始位置
          end: () => `${outer.scrollHeight - pin.scrollHeight - boxes[boxes.length - 1].scrollHeight}px`,
        }
      });

      // 為每個 cardInfo 設置 ScrollTrigger
      boxes.forEach((box, i) => {
        const boxTl = gsap.timeline({
          scrollTrigger: {
            trigger: box, // 為當前的 cardInfo 設置觸發點
            pin: true,
            pinSpacing: false,
            start: () => `top ${pin.scrollHeight + 150}px`, // 開始位置為 pinBox 高度加 150px
            end: () => `${(boxes.length - i - 1) * box.scrollHeight - pin.scrollHeight}px`, // 根據剩餘 box 設置結束位置

            // 每次滾動到新的 .cardInfo 元素時觸發以下功能
            onEnter: () => updateStepsAndTarget(i),
            onEnterBack: () => updateStepsAndTarget(i)
          }
        });
      });

      // 更新 steps 中的 .now 狀態和 target 的 left 位置
      function updateStepsAndTarget(index) {
        // 移除所有步驟的 .now 類，並在當前序數加上 .now
        steps.forEach((step, idx) => step.classList.toggle('now', idx === index));

        // 計算 .target 的 left 位置
        if (index > 0) {
          const leftPosition = `calc(${100 / (steps.length - 1) * index}% - 5px)`;
          gsap.to(target, {
            duration: 0.5, // 設定動畫的持續時間
            left: leftPosition,
            ease: "power2.out" // 設置緩動效果
          });
        } else {
          gsap.to(target, {
            duration: 0.5, // 設定動畫的持續時間
            left: '0', // 將第一個位置的 .target 設為起始位置
            ease: "power2.out" // 設置緩動效果
          });
        }
      }
    </script> -->
  </body>
</html>
